{"remainingRequest":"C:\\Users\\User\\Documents\\vue-project\\investmentFrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\vue-project\\investmentFrontend\\src\\components\\nlogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Documents\\vue-project\\investmentFrontend\\src\\components\\nlogin.vue","mtime":1645446238430},{"path":"C:\\Users\\User\\Documents\\vue-project\\investmentFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643127533100},{"path":"C:\\Users\\User\\Documents\\vue-project\\investmentFrontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1643127533042},{"path":"C:\\Users\\User\\Documents\\vue-project\\investmentFrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1643127541361},{"path":"C:\\Users\\User\\Documents\\vue-project\\investmentFrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643127533100},{"path":"C:\\Users\\User\\Documents\\vue-project\\investmentFrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1643127543662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJzsKLy9pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIHVzZXJfcm9sZTogJycsCiAgICAgICAgZXJyb3JfY29kZSA6JycsCiAgICAgICAgbWVzc2FnZTonJywKICAgICAgICBzdGF0dXM6JycKICAgIH0pLAogICAgbW91bnRlZCgpewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ3ZXJ0eXVpb2poZGZnaGhkcnRmeWd1aCIpCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyByZXN0KCkgewogICAgICAgICAgICBpZiAoIXRoaXMuZW1haWwgfHwgIXRoaXMucGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Vycm9yLi4uJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2hlY2sgeW91ciBsb2dpbiBkZXRhaWxzIGFuZCB0cnkgYWdhaW4gICcsCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9sb2dpbicsIHsKICAgICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICBsZXQgdG9rZW4gPSByZXNwb25zZS5kYXRhLmRhdGEudG9rZW47CiAgICAgICAgICAgICAgICBhd2FpdCBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgid2VydHl1aW9qaGRmZ2hoZHJ0ZnlndWgiLCB0b2tlbikKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdGhpcy51c2VyX3JvbGUgPSByZXNwb25zZS5kYXRhLnVzZXJyb2xlOwogICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSByZXNwb25zZS5kYXRhLnN0YXR1czsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JfY29kZSA9IHJlc3BvbnNlLmRhdGEuY29kZTsKCiAgICAgICAgICAgICAgICBpZiggdGhpcy51c2VyX3JvbGUgPT0gMSkgewoKICAgICAgICAgICAgICAgICAgICBzd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOjQwMCwKCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2FkbWluJyk7CgogICAgICAgICAgICAgICAgfWVsc2UgaWYoKCB0aGlzLnVzZXJfcm9sZSA9PSAzKSYmKCB0aGlzLnN0YXR1cyA9PSAwKSkgewoKICAgICAgICAgICAgICAgICAgICAgc3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdJbnZhbGlkIHVzZXInLAogICAgICAgICAgICAgICAgICAgICB3aWR0aDo0MDAsCgogICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKCiAgICAgICAgICAgICAgIH1lbHNlIHsKCiAgICAgICAgICAgICAgICAgICAgIHN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXInKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAKCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpOwoKICAgICAgICAgICAgICAgIHN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIC8vdGV4dDogJ0tpbmRseSBQcm9jZWVkJywKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["nlogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA","file":"nlogin.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n\n  <div id=\"app\">\n\n   <div class=\"login-page\">\n      <transition name=\"fade\">\n         \n      </transition>\n      <div class=\"wallpaper-register\"></div>\n\n      <div class=\"container\">\n         <div class=\"row\">\n            <div class=\"col-lg-4 col-md-6 col-sm-8 mx-auto\">\n               <div  class=\"card login\">\n                <div>\n                        <h5>Login to Account {{ message }}</h5>\n                </div>\n                 \n                  <p></p>\n                  <form class=\"form-group\" lazy-validation @submit.prevent=\"rest\">\n                     <b-form-input v-model=\"email\" type=\"email\" class=\"form-control\" placeholder=\"Email\" required></b-form-input>\n                     <p></p>\n                     <b-form-input v-model=\"password\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required></b-form-input>\n                     <p></p>\n                     <input type=\"submit\" style=\"background: #685500c; color: #fff; width: 100%\" value=\"Login\" class=\"btn btn-primary\" @click=\"rest\">\n                     \n                     <p></p>\n                     <p>Don't have an account? <a href=\"/signup\">Signup</a> | <a href=\"/\">Home Page</a>\n                     \n                     </p>\n                   \n                  </form>\n               </div>\n\n            </div>\n         </div>\n\n      </div>\n   </div>\n\n</div>\n    \n</template>\n\n\n<script>\nimport swal from 'sweetalert2';\n//import axios from 'axios';\n\nexport default {\n    data: () => ({\n        email: '',\n        password: '',\n        user_role: '',\n        error_code :'',\n        message:'',\n        status:''\n    }),\n    mounted(){\n        localStorage.removeItem(\"wertyuiojhdfghhdrtfyguh\")\n    },\n\n    methods: {\n        async rest() {\n            if (!this.email || !this.password) {\n               \n                swal.fire({\n                    icon: 'warning',\n                    title: 'Error...',\n                    text: 'Check your login details and try again  ',\n                })\n                return;\n            }\n\n            try {\n                const response = await this.$http.post('/login', {\n                    email: this.email,\n                    password: this.password,\n                });\n\n                console.log(response);\n\n                let token = response.data.data.token;\n                await localStorage.setItem(\"wertyuiojhdfghhdrtfyguh\", token)\n                \n                this.user_role = response.data.userrole;\n                this.status = response.data.status;\n                this.error_code = response.data.code;\n\n                if( this.user_role == 1) {\n\n                    swal.fire({\n                    icon: 'success',\n                    title: response.data.message,\n                    width:400,\n\n                });\n            \n                this.$router.push('/admin');\n\n                }else if(( this.user_role == 3)&&( this.status == 0)) {\n\n                     swal.fire({\n                     icon: 'error',\n                     title: 'Invalid user',\n                     width:400,\n\n                     });\n                     \n                     this.$router.push('/login');\n\n               }else {\n\n                     swal.fire({\n                     icon: 'success',\n                     title: response.data.message,\n                     });\n\n                     this.$router.push('/user');\n                  }\n            \n\n            } catch (err) {\n                //console.log(err);\n\n                swal.fire({\n                    icon: 'error',\n                    title: response.data.message,\n                    //text: 'Kindly Proceed',\n                });\n            }\n        \n            \n        }\n    }\n}\n</script>\n<style scoped>\n\np {\n   line-height: 1rem;\n}\n\n.card {\n   padding: 20px;\n}\n\n.form-group {\n   input {\n      margin-bottom: 20px;\n   }\n}\n\n.login-page {\n   align-items: center;\n   display: flex;\n   height: 100vh;\n   background-color: #f1d2cf;\n}\n   \n   .wallpaper-register {\n      background-color: #f1d2cf;\n      background-size: cover;\n      height: 100%;\n      position: absolute;\n      width: 100%;\n      z-index: -1;\n   }\n\n   h1 {\n      margin-bottom: 1.5rem;\n   }\n\n\n.error {\n   animation-name: errorShake;\n   animation-duration: 0.3s;\n}\n\n@keyframes errorShake {\n   0% {\n      transform: translateX(-25px);\n   }\n   25% {\n      transform: translateX(25px);\n   }\n   50% {\n      transform: translateX(-25px);\n   }\n   75% {\n      transform: translateX(25px);\n   }\n   100% {\n      transform: translateX(0);\n   }\n}\n</style>\n\n"]}]}